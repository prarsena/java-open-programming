# 4.3 Loop Usage and Techniques

## Running Totals and Accumulators
A **running total** is a sum of numbers accumulated through multiple iterations of a loop. The variable used to keep this running total is called an **accumulator**. The accumulator variable must be initialized to zero before the loop begins.

**Example:**
```java
int runningTotal = 0; // The accumulator, initialized to 0
Scanner kbd = new Scanner(System.in);
IO.print("Type a number: ");

while (kbd.hasNextInt()) {
	IO.print("Type a number (or non-number to quit): ");
	int nextNumber = kbd.nextInt();
	runningTotal += nextNumber; // Using combined assignment operator
}

IO.println("Total sum: " + runningTotal);
kbd.close();
```

## Input Validation
The `while` and `do while` loops are highly effective for ensuring user input meets specific criteria. This technique is known as a **user controlled loop**.

**Example of Input Validation:**
```java
int score;

// Loop keeps running as long as the score is outside the valid range (0-100)
do {
    String input = IO.readln("Enter test score (0-100): ");
    score = Integer.parseInt(input);
} while (score < 0 || score > 100);
```

## Initializing Multiple Variables in a for Loop
It is possible to initialize and update multiple variables within the single line of a `for` loop header, though this is not commonly seen. This technique is useful for managing multiple variables within one loop for efficiency and synchronization.

**Example of Multi-Variable Loop:**
```java
// i increments starting from 0, j decrements starting from 10
for (int i = 0, j = 10; i < j; i++, j--) {
    IO.println("i: " + i + ", j: " + j);
}
```

## Nested Loops
A **nested loop** occurs when one loop is placed inside the body of another loop. Nested loops are essential when operations require multiple levels of iteration, such as working with multi-dimensional arrays, generating combinations, or printing patterns.

**Example of Nested Loops (Printing a Pattern):**
```java
// Example #1: 
// Outer loop controls rows
for (int row = 1; row <= 5; row++) {
    // Inner loop controls columns (prints stars)
    for (int col = 1; col <= row; col++) {
        IO.print("*");
    }
    IO.println(""); // Move to the next row
}

// Output:

*
**
***
****
*****
```


**Example of Nested Loops (Clock):**

In this nested loop, the outer loop increments the hours on the clock, while the inner loop increments the minutes.

```java
// Example #2: Clock loop
for (int hours = 1; hours <= 12; hours++){
	for (int minutes = 0; minutes <= 59; minutes++){
		IO.println(String.format("%02d:%02d", hours, minutes)); 
	}
}
```

The outer loop increments only after the inner loop condition becomes false (The inner condition testing for whether `minutes <= 59`).

## The break and continue Statements
The `break` and `continue` statements offer ways to alter the normal execution flow of a loop.
*   **`break`**: This statement immediately terminates the loop (or `switch` statement) it is contained within, causing the program to proceed to the statement immediately following the loop.
*   **`continue`**: This statement causes the program to skip the remainder of the current loop iteration and immediately start the next iteration.

**Examples:**

```java
// Example #1: Use break to escape a for loop
for (int i=0; i<10; i++){
	if (i == 5){
		break;
	}
	IO.println(i);
}

// Output:
0
1
2
3
4


// Example #2: Use continue to skip the current loop iteration
for (int i=0; i<10; i++){
	if (i == 5){
		continue;
	}
	IO.println(i);
}

// Output:
0
1
2
3
4
6
7
8
9
```


#### Check Your Understanding (4.3)
1. In the context of running totals, what is an accumulator, and what value should it be initialized to?
2. Give an example scenario where using a nested `for` loop would be necessary.

#### Practice Problems (4.3)
1. **Loop Tracing:** Trace the following code and determine the final value of `x`.
   
```java
int x = 10;
while (x < 50) {
	x += 10;
}
```
2. **Code Interpretation:** Describe what the following nested loop code would produce:

```java
for (int i = 1; i <= 2; i++) {
	for (int j = 1; j <= 3; j++) {
		IO.print(i + "." + j + " ");
	}
}
```
