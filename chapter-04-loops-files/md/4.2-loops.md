# 4.2 Introduction to Loops (while, do-while, for)

Java provides three primary looping structures that enable a program to repeatedly execute a block of code. A loop must contain a mechanism to terminate, otherwise, it becomes an **infinite loop**.

Like `if` statements, all three types of Java loops include a Boolean test condition to determine whether to execute. The difference is that loops execute repeatedly as long as the Boolean expression evaluates to `true`. 
## The while Loop
The `while` loop is a **pre-test loop**. This means the Boolean condition is tested *before* the loop body executes. If the condition is initially false, the loop body will never execute.

**Use Case:** Use the `while` loop when you need to repeat a block of code as long as a condition is true. It is often used for input validation.

**Syntax and Example:**

```java
// While loop syntax -- general formula: 
// Pretest loop: checks if condition is true first
while (condition) {
    // statements executed repeatedly
    // Must include code to make the condition false eventually!
}

// Example #1
int count = 1;
while (count <= 5) {
    IO.println("Iteration: " + count);
    count++; // Statement that moves toward termination:
	// incrementing count will lead to a false condition.
}

// Example #2:
String msg = "Learning Java is cool."
boolean isJavaCool = true; 
// Boolean expression that determines whether to execute the loop.
// ONLY executes if boolean expression is initially true. 
while (isJavaCool) {
	IO.println(msg)
	String userAnswer = IO.readln("Do you agree? (Y/N)");
	if (userAnswer.toLowerCase().charAt(0) == 'n'){
		isJavaCool = false; 
		//user can make the the test condition false and exit the loop.
	}
}
```

## The do-while Loop
The `do-while` loop is a **post-test loop**. The code block executes **at least once** before the Boolean condition is evaluated.

**Use Case:** Use a `do-while` loop when you must ensure the loop body is executed at least once. This is useful for displaying a menu or prompting a user for input before validating it.

**Syntax and Example:**

```java
// Do While loop syntax -- general formula: 
do {
    // Post-test loop: statements executed at least once
} while (condition);

// Example #1: 
int count = 10; // Even though count > 5, it runs once.
do {
    IO.println("Run at least once.");
    count++;
} while (count < 5);
```

A real world example could be when you need to prompt the user for input and ensure that the input meets certain criteria before proceeding. The prompt should be shown at least once.

```java
// Example #2:
int number;
do {
    String input = IO.readln("Enter a positive number: ");
    number = Integer.parseInt(input);
} while (number <= 0);
```

Another common use for `do while` loops is when you want to display a menu to the user and perform actions based on the userâ€™s choice. The menu should be displayed at least once.

```java
// Example #3:
int choice;
do {
    String menu = """
        1. Option 1
        2. Option 2
        3. Exit
        """;
    IO.println(menu);
    String input = IO.readln("Enter your choice: ");
    choice = Integer.parseInt(input);
	
	switch (choice) {
		case 1 -> IO.println("You selected option 1.\n");
		case 2 -> IO.println("You selected option 2.\n");
		case 3 -> IO.println("Exiting...\n");
		default -> IO.println("Invalid choice. Try again.\n");
	}
} while (choice != 3);
```
## The for Loop
The `for` loop is a **pre-test loop**; like the `while` loop, it will not execute if the initial condition is false. 

For loops are ideal for **count-controlled loops** where the exact number of iterations is known beforehand. They allow the programmer to initialize a control variable, test a condition, and modify the control variable all in one line of code. The variable that controls the number of iterations is the **loop control variable**.

**Syntax and Example:**

A `for` loop consists of three sections in its header:

1.  **Initialization**: Runs once at the start, often initializing the control variable.
2.  **Test**: A Boolean expression checked before each iteration (pre-test).
3.  **Update**: The last thing to execute at the end of each loop, typically modifying the control variable (e.g., incrementing/decrementing).

```java
for (initialization; test; update) {
    // statements executed repeatedly
}

// Example #1: Looping 10 times
for (int i = 0; i < 10; i++) {
    IO.println("This is iteration number: " + i);
}

// Example #2: Printing number and number squared for 1-20 using printf
IO.println(String.format("%7s - %7s", "number", "n squared"));
for (int i=1; i <= 20; i++){
	IO.println(String.format("%7d - %-7d", i, i*i));
}
```

Output of example #2: 

```bash
 number - n squared 
      1 - 1       
      2 - 4       
      3 - 9      
      4 - 16      
      5 - 25      
      6 - 36      
      7 - 49      
      8 - 64      
      9 - 81      
     10 - 100     
     11 - 121     
     12 - 144     
     13 - 169     
     14 - 196     
     15 - 225     
     16 - 256     
     17 - 289     
     18 - 324     
     19 - 361     
     20 - 400    
```
#### Check Your Understanding (4.2)
1. Which two Java loops are categorized as pre-test loops, and what does this mean for execution?
2. When is a `do-while` loop the preferred choice over a `while` loop?
3. Explain the function of a **sentinel value** and how it relates to loop termination.

#### Practice Problems (4.2)
1. **Loop Selection:** You need to write a program that repeatedly asks the user for a test score between 0 and 100 and will not accept any input outside that range. Which loop structure is best suited for this task? Explain why.
2. **For Loop Execution:** How many times will the following `for` loop execute?
    ```java
    for (int count = 1; count <= 12; count += 1) {
        // loop body
    }
    ```