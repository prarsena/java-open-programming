# Swing Components and Event Handling

While `JOptionPane` provides a quick way to pop up messages, most graphical applications require a persistent window with interactive elements like buttons, text fields, and labels. In Java's Swing library, we build these interfaces using **Components** and **Containers**.

## The Hierarchy of Swing

Swing components are organized in a hierarchy.
1.  **Top-Level Containers**: The main windows of your application. The most common is `JFrame`.
2.  **Intermediate Containers**: Panels that hold other components to organize the layout. The most common is `JPanel`.
3.  **Atomic Components**: The individual elements the user interacts with, such as `JButton`, `JLabel`, and `JTextField`.

## 1. The Main Window: JFrame

Every Swing application starts with a `JFrame`. It represents a window with a title bar, border, and buttons to minimize, maximize, or close.

```java
import javax.swing.JFrame;

public class SimpleWindow {
    void main() {
        // 1. Create the frame
        JFrame frame = new JFrame("My First Window");

        // 2. Set the size (width, height)
        frame.setSize(400, 300);

        // 3. Define what happens when the user clicks the 'X'
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

        // 4. Make it visible
        frame.setVisible(true);
    }
}
```

*   **`setDefaultCloseOperation`**: By default, closing a window just hides it. `EXIT_ON_CLOSE` ensures the program actually stops running.

## 2. Adding Components

You rarely add components directly to a `JFrame`. Instead, you add them to the frame's **Content Pane**, or more commonly, you create a `JPanel`, add components to that panel, and then add the panel to the frame.

### Common Components

*   **`JLabel`**: Displays read-only text or images.
*   **`JButton`**: A clickable button that triggers an action.
*   **`JTextField`**: A single-line input box for user text.

```java
import javax.swing.*;

public class ComponentDemo {
    void main() {
        JFrame frame = new JFrame("Component Demo");
        frame.setSize(300, 200);
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

        // Create a panel to hold our components
        JPanel panel = new JPanel();

        // Create components
        JLabel label = new JLabel("Enter your name:");
        JTextField nameField = new JTextField(15); // 15 columns wide
        JButton button = new JButton("Say Hello");

        // Add components to the panel
        panel.add(label);
        panel.add(nameField);
        panel.add(button);

        // Add the panel to the frame
        frame.add(panel);

        frame.setVisible(true);
    }
}
```

## 3. Layout Managers

You might notice in the example above that the components just flow in a line. This is because `JPanel` uses a **Layout Manager** to decide where to put things.

Java provides several layout managers to control how components are arranged.

### FlowLayout (Default for JPanel)
Arranges components in a line, wrapping to the next line if the window is too narrow. It centers them by default.

### BorderLayout (Default for JFrame)
Divides the container into five regions: North, South, East, West, and Center.

```java
JPanel panel = new JPanel(new BorderLayout());
panel.add(new JButton("North"), BorderLayout.NORTH);
panel.add(new JButton("South"), BorderLayout.SOUTH);
panel.add(new JButton("Center"), BorderLayout.CENTER);
```

### GridLayout
Arranges components in a grid of cells of equal size.

```java
// 3 rows, 2 columns
JPanel panel = new JPanel(new GridLayout(3, 2)); 
panel.add(new JButton("1"));
panel.add(new JButton("2"));
// ... and so on
```

## 4. Event Handling: Making it Interactive

A GUI isn't useful if it doesn't do anything. We need to handle **Events**, such as a button click.

In Swing, we use an **ActionListener**. When a button is clicked, it fires an `ActionEvent`. We register a listener to "listen" for that event and run code when it happens.

### The Old Way (Anonymous Inner Classes)
Before Java 8, this was verbose:

```java
button.addActionListener(new ActionListener() {
    @Override
    public void actionPerformed(ActionEvent e) {
        System.out.println("Button clicked!");
    }
});
```

### The Modern Way (Lambdas)
Since `ActionListener` is a functional interface (it has only one method), we can use a Lambda expression.

```java
button.addActionListener(e -> {
    System.out.println("Button clicked!");
});
```

## Putting It All Together: The Greeter App

Let's build a complete application. This app will have a label, a text field for the user's name, and a button. When the button is clicked, it will update a message label.

```java
import javax.swing.*;
import java.awt.*;
import java.awt.event.ActionEvent;

public class GreeterApp {
    
    // We declare components as fields so we can access them inside methods
    private JLabel messageLabel;
    private JTextField nameField;

    void main() {
        // 1. Setup the Frame
        JFrame frame = new JFrame("Greeter App");
        frame.setSize(400, 150);
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        
        // 2. Setup the Layout
        // We'll use a BorderLayout for the main structure
        frame.setLayout(new BorderLayout());

        // 3. Create Top Panel (Input)
        JPanel topPanel = new JPanel(); // Uses FlowLayout by default
        topPanel.add(new JLabel("Name: "));
        
        nameField = new JTextField(15);
        topPanel.add(nameField);
        
        JButton greetButton = new JButton("Greet Me!");
        // Add the event listener
        greetButton.addActionListener(e -> updateMessage());
        
        topPanel.add(greetButton);

        // 4. Create Center Panel (Output)
        JPanel centerPanel = new JPanel();
        messageLabel = new JLabel("Enter a name above.");
        messageLabel.setFont(new Font("Arial", Font.BOLD, 18));
        messageLabel.setForeground(Color.BLUE);
        centerPanel.add(messageLabel);

        // 5. Add panels to the frame
        frame.add(topPanel, BorderLayout.NORTH);
        frame.add(centerPanel, BorderLayout.CENTER);

        // 6. Show it
        frame.setVisible(true);
    }

    // Helper method called when button is clicked
    private void updateMessage() {
        String name = nameField.getText();
        if (name.isBlank()) {
            messageLabel.setText("Please enter a name!");
            messageLabel.setForeground(Color.RED);
        } else {
            messageLabel.setText("Hello, " + name + "!");
            messageLabel.setForeground(Color.BLUE);
        }
    }
}
```

### Key Takeaways

1.  **Separation of Concerns**: We separated the layout code (in `main`) from the logic code (`updateMessage`).
2.  **Accessing State**: We used `nameField.getText()` to read input and `messageLabel.setText()` to change the UI.
3.  **Styling**: We used `setFont` and `setForeground` to make the text look better.

## Simple Dialog Boxes (Recap)

As mentioned in the introduction, sometimes you don't need a full window. For simple alerts, `JOptionPane` is still your best friend.

*   `JOptionPane.showMessageDialog(parent, message)`: Show info.
*   `JOptionPane.showInputDialog(message)`: Get a string.
*   `JOptionPane.showConfirmDialog(parent, message)`: Get a Yes/No/Cancel response.

Swing is a massive library, but these building blocks—Frames, Panels, Components, Layouts, and Listeners—are the foundation of everything you will build with it.
