# 2.4 Non-primitive Data Types
While primitive data types store simple values, Java lets you use and create complex data types called **Classes** or **Objects**. 

The most common Java Object is the `String` class, a non-primitive data type used to store sequences of characters (text). 
### Objects Are Created from Classes
In Java, objects are instances of classes. Think of a class as a blueprint, and an object is a concrete realization of that blueprint. Classes allow you to combine multiple data types together to define objects however you see fit. 

For example, imagine if there was a Java class called **Song**. The file would be called `Song.java`.

Most recorded songs share some common attributes: they have a title, a songwriter, an album, and a year they were released. In Java, these would be called **fields**. You could imagine that a song title, songwriter, and album could be Strings and the release year could be an integer. These four elements (`String`, `String`, `String`, and `int`) would come together to form a Song object. Classes can be made up of fields of Java primitives and non-primitive objects. 

You could also choose to capture other aspects of a song, depending on what is important to you: length, genre, band-name, producer name, location. The possibilities are endless with Java classes. 

The class is the generic type that defines what the object is while the object is the specific instance of the class that you create in a Java program. 

Just like how we use primitive data types to create variables (for example, `int num = 34`), we also use non-primitive data types to create variables. Instead of writing the primitive data type, we write the classname of whatever object we want to create. 

Here are some examples of creating variables with the Song data type:  

```java
Song petersFave = new Song("Jokerman", "Bob Dylan", "Infidels", 1983)
Song sarahsSong = new Song("dragon eyes", "Adrianne Lenker", "songs", 2020)
Song classicNico = new Song("I'll Keep It With Mine", "Nico", "Chelsea Girl", 1967)
Song classicSam = new Song("Having a Party", "Sam Cooke", "The Man Who Invented Soul", 2000)
```

We'll explore Java Objects more later, but they are a defining feature of Java I wanted to introduce early.

### Primitive Type Variables and Class Type Variables
- **Primitive type variables**: Store the actual value directly in memory. For example, an `int` variable directly holds the integer value.
- **Class type variables (Objects)**: Store a _reference_ (memory address) to where the actual data is stored in memory. 

For a `String` object, the variable holds a reference to a memory location that contains information about the string's characters and its length. The characters themselves are stored as primitive `char` types in a different memory location that the `String` object references.

### Creating a String Object
The **Java API (Application Programming Interface)** provides a large collection of pre-written classes that provide a standardized way for developers to interact with various functionalities. 

> ðŸ”­ **Keep Exploring!** The Java API offers functionalities for a wide range of tasks, from basic operations like mathematical functions to complex features for database connectivity, web development, networking, security, and more. You can see the actual source code definitions of every class in the Java API on the [OpenJDK GitHub](https://github.com/openjdk/jdk/tree/master/src/java.base/share/classes/java). A slightly more user-friendly way of exploring the classes provided by the Java API is through the [Oracle JDK 21 API](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/module-summary.html) docs. 

**String** is one such class provided by the Java API, meaning it's readily available for you to use. In fact, the source code definition of a Java String is available on GitHub at [String.java](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/lang/String.java) and in the Oracle documentation at [Class String](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html).

**String** is a special non-primitive data type because it can be initialized using a _string literal_ (enclosed in double quotes).

```Java
String greeting = "Hello World"; // String literal assignment
```

All other non-primitive data types (objects) must be created using the `new` keyword. While it's less common for `String`, you _can_ also create a `String` object this way:

```Java
String message = new String("Welcome to Java"); // Using the new keyword
```

### Object Methods
Objects have methods that perform actions on that object. 

Methods are invoked using dot notation: `object.method()`. If a method requires parameters (additional information to perform its action), they are passed inside the parentheses.

Example `String` methods:

- `.length()`: Returns the number of characters in the string.
- `.replace(char oldChar, char newChar)`: Returns a new string with all occurrences of `oldChar` replaced by `newChar`.
- `.charAt(int index)`:  Returns theÂ `char`Â value at the specified index.
- `.equalsIgnoreCase(String anotherString)`:  Compares thisÂ `String`Â to anotherÂ `String`, ignoring case considerations.
- `.toLowerCase()` and `.toUpperCase()`: Converts all of the characters in thisÂ `String`Â to lower or upper case.

Here's some code examples of String methods: 

```Java
String s = "Sarah";

int len = s.length(); // len will be 5
System.out.println(len);

String newString = s.replace('a', 'b'); // newString will be "Sbrbh"
System.out.println(newString);

System.out.println(s.charAt(0)); // returns 'S'
System.out.println(s.charAt(1)); // returns 'A'

System.out.println(s.equalsIgnoreCase("SARAH")); // returns true
System.out.println(s.equalsIgnoreCase("SAMANTHA")); // returns false

```

#### Check Your Understanding (CYU) Questions

1. How do primitive type variables differ from class type variables (objects) in terms of how they store data in memory?
2. What is the unique way `String` objects can be initialized compared to other Java objects?
3. If you have a `String` variable `word = "banana";`, what would `word.length()` return?

## The `Scanner` object: Reading Keyboard Input
The `Scanner` class is a powerful tool for reading input from various sources, including the keyboard (console). While `System.out` is for printing, `System.in` is for reading input.

To use `Scanner`:
1. **Import**: You must import the `Scanner` class at the top of your Java file.
   
```Java
import java.util.Scanner;
```

2. **Initialize**: Create a `Scanner` object using the `new` keyword, passing `System.in` as a parameter to indicate you're reading from the keyboard.

```Java
Scanner keyboard = new Scanner(System.in);
```

3. **Read Input**: Use `Scanner` methods to read different types of input:    
    - `nextLine()`: Reads an entire line of text until the user presses Enter.
    - `nextInt()`: Reads the next integer value.
    - `nextDouble()`: Reads the next double value.

**Important!** If the `Scanner` method expects a specific data type (e.g., `nextInt()`) and the user enters something that cannot be converted to that type (e.g., text), your program will crash.

```Java
import java.util.Scanner; // Required for Scanner

public class UserInput {
    public static void main(String[] args) {
        Scanner keyboard = new Scanner(System.in); // Initialize Scanner

        System.out.print("Enter your name: ");
        String name = keyboard.nextLine(); // Read a line of text

        System.out.print("Enter your age: ");
        int age = keyboard.nextInt(); // Read an integer

        System.out.print("Enter your GPA: ");
        double gpa = keyboard.nextDouble(); // Read a double

        System.out.println("Hello, " + name + "! You are " + age + " years old with a GPA of " + gpa);

        keyboard.close(); // It's good practice to close the scanner when done
    }
}
```

### Mixing Calls to `nextLine` with Calls to Other `Scanner` Methods
A common pitfall when mixing `nextLine()` with `nextInt()`, `nextDouble()`, or `next()` is that `nextInt()`, `nextDouble()`, and `next()` do not consume the newline character (`\n`) left in the input buffer after the user presses Enter. When `nextLine()` is called immediately after, it consumes this leftover newline, resulting in an empty string.

To prevent this, you can add an extra `keyboard.nextLine()` call to consume the remaining newline character after reading a number.

```Java
import java.util.Scanner;

public class ScannerMixExample {
    public static void main(String[] args) {
        Scanner keyboard = new Scanner(System.in);

        System.out.print("Enter an integer: ");
        int number = keyboard.nextInt(); 
        // Reads the integer, leaves newline in buffer
        
        keyboard.nextLine(); // Consume the leftover newline
        
        System.out.print("Enter a line of text: ");
        String text = keyboard.nextLine(); // Now reads the actual text
        
        System.out.println("You entered: " + number + " and \"" + text + "\"");
        
        keyboard.close();
    }
}
```

Check Your Understanding (CYU) Questions:
1. What is the purpose of `import java.util.Scanner;`?
2. If you use `keyboard.nextInt()` to read a number, what common issue might arise if `keyboard.nextLine()` is called immediately afterwards, and how do you fix it?
3. What happens if a user types "abc" when a `Scanner` is expecting `nextInt()`?
## Creating Named Constants with `final`
The `final` keyword is used to declare a constant, which is a variable whose value cannot be changed after it is initialized. Constants are useful for values that should remain fixed throughout the program, such as mathematical constants (e.g., PI) or fixed rates.

By convention, constant names are written in **ALL CAPS** with underscores separating words.

```Java
final double PI = 3.14159; // PI is a constant
final int DAYS_IN_WEEK = 7;
final double HOURLY_RATE = 25.50; // Example for assignment 2a

// PI = 3.14; // This would cause a compilation error
```

Check Your Understanding (CYU) Questions:
1. What is the purpose of the `final` keyword?
2. What is the naming convention for Java constants?

### Extra Exercise (Section 2.8-2.10)
1. **String Manipulation**:
    - Declare a `String` variable `sentence` and initialize it with "Java Programming is Fun!".
    - Print the length of the string.
    - Create a new `String` called `modifiedSentence` by replacing all occurrences of the letter 'o' with '0' (zero). Print `modifiedSentence`.
2. **Simple Calculator Input**: Write a program that prompts the user to enter two whole numbers. Read these numbers using the `Scanner` object. Then, print their sum, difference, product, and quotient, clearly labeling each result.
3. **Area of a Circle with Constant**: Declare a `final double` constant for PI (you can use `3.14159`). Prompt the user to enter the radius of a circle (a `double`). Calculate and print the area of the circle using the formula `Area = PI * radius * radius`.

## `Parse` methods
Primitive data types do not have methods. However, Java provides "wrapper classes" for each primitive type, allowing them to be treated as objects and thus have methods. These wrapper classes start with a capital letter and generally use the full word for the primitive type (e.g., `Integer` for `int`, `Double` for `double`, `Character` for `char`, `Boolean` for `boolean`).

One common use of these wrapper classes is for the `parse` methods, which are used to convert `String` representations of numbers into their respective numeric primitive types.
- `Integer.parseInt(String s)`: Converts a `String` to an `int`.
- `Double.parseDouble(String s)`: Converts a `String` to a `double`.

```Java
String str1 = "123";
int number = Integer.parseInt(str1); // Converts "123" to the integer 123
System.out.println(number + 1); // Output: 124

String str2 = "99.95";
double dbl = Double.parseDouble(str2); // Converts "99.95" to the double 99.95
System.out.println(dbl * 2); // Output: 199.9
```

You can also convert a numeric primitive type to a `String` using `String.valueOf()`:

```Java
int num = 100;
String strNum = String.valueOf(num); // Converts 100 to the String "100"
System.out.println(strNum + " apples"); // Output: 100 apples
```

These `parse` methods and `String.valueOf()` are examples of **static methods**, which can be called directly on the class name (e.g., `Integer.parseInt`) without needing to create an instance of the class. We will explore static methods in more detail in later chapters.

Check Your Understanding (CYU) Questions:
1. What is the purpose of a wrapper class for a primitive data type?
2. How do the names of wrapper classes typically differ from their corresponding primitive types?
3. If you have the `String` "45.7", which parse method would you use to convert it to a `double`?

## Math Class
The `Math` class in Java provides methods for performing common mathematical functions. Like the wrapper classes, you don't need to create an instance of the `Math` class to use its methods; its methods are `static`.

Some useful `Math` methods include:
- `Math.sqrt(double a)`: Returns the square root of a number.
- `Math.pow(double base, double exponent)`: Returns the value of the `base` raised to the power of the `exponent`.
- `Math.abs(int a)` (and overloads for other types): Returns the absolute value.
- `Math.random()`: Returns a random double value between 0.0 (inclusive) and 1.0 (exclusive).

```Java
double squareRoot = Math.sqrt(64); // squareRoot will be 8.0
System.out.println("Square root of 64: " + squareRoot);

double powerResult = Math.pow(2, 8); // powerResult will be 256.0
System.out.println("2 to the power of 8: " + powerResult);
```

For a comprehensive list of `Math` methods, you can refer to the Java documentation or resources like W3Schools.

Check Your Understanding (CYU) Questions:
1. Do you need to create an object of the `Math` class to use its methods? Why or why not?
2. Which `Math` method would you use to calculate 5 cubed (5 to the power of 3)?

