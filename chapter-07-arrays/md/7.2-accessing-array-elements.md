# 7.2 Accessing and Processing Array Elements

Once an array is created, its elements can be accessed, read, and modified. Array elements are referenced using their **subscript** (index). You can assign or re-assign values in the array using the index syntax.

## The Array `length` Field

Arrays, as objects, provide a public **field** named `length`. This field contains the number of elements in the array.

> üßê **Important Distinction:** Array length is a **field**, accessed without parentheses (`array.length`). This differs from the `String` class, which uses a **method** called `length()` to retrieve the number of characters.

### Looping through Array Elements

Because the size of a standard array is known (fixed), looping through array elements is an ideal use case for a **`for` loop**.

The standard loop structure for processing every element in an array is:

```java
for (int i = 0; i < array.length; i++) {
    // Access element at position i: arrayName[i]
}
```

By starting the counter `i` at 0 and using the condition `i < array.length`, you ensure the loop runs exactly `array.length` times, covering indexes `0` up to `array.length - 1`.

**Example: Calculating the Score Total**

Let's use a `for` loop and the `length` field to calculate the sum of test scores:

```java
public class ScoreTotal {
    void main() {
        int[] scores = {85, 92, 78, 95, 88};
        int total = 0; // The accumulator variable

        // Loop runs from i=0 up to (but not including) 5
        for (int i = 0; i < scores.length; i++) {
            // Add the current score element to the running total
            total += scores[i]; 
        }

        IO.println("Total scores processed: " + scores.length); 
        IO.println("Accumulated total: " + total);
    }
}
```

## Bounds Checking

Java automatically performs **array bounds checking**, ensuring that a statement cannot use a subscript that is outside the range of valid subscripts.

*   The first element is always at index **0**.
*   The last element is always at index **`array.length - 1`**.

If you try to access an array element that is at `array.length` position or greater, Java will trigger an **`ArrayIndexOutOfBoundsException`**. This is a common error to watch out for, often resulting from an **off-by-one error**.

## Tip: Avoid Printing "Item #0" to User

When looping through data, remember that computers start counting at 0, but humans start at 1.

**Example: The Restaurant Order Builder**

To maintain correct array indexing internally while providing user-friendly output, use `(i + 1)` when printing messages to the user:
public class RestaurantOrder {
    void main() {
        // We know we want 5 items for the lunch order
        String[] orderItems = new String[5];

        for (int i = 0; i < orderItems.length; i++) {
            // The user sees item #1, #2, #3, etc.
            orderItems[i] = IO.readln("Enter item #" + (i + 1) + ": ");
        }
        
        IO.println("\n--- Final Order ---");
        // Print the contents of the array using a read-only loop (next section)
        for (String item : orderItems) {
            IO.println(item);
        } of the array using a read-only loop (next section)
    for (String item : orderItems) {
        IO.println(item);
    }
}
```

## The Enhanced `for` Loop (Read-Only)

Java provides a simplified array processing syntax, often called the **enhanced `for` loop** or **for-each loop**. This syntax is useful for **reading elements only**, as it does not allow you to refer to elements by their index, which prevents re-assigning values.

**Syntax:**
```java
for (dataType elementVariable : arrayName) {
    // Statements using elementVariable
}
```

**Example: Printing a List of Musical Artists**
public class ArtistList {
    void main() {
        String[] artists = {"Steely Dan", "The Clash", "David Bowie"};
        
        IO.println("--- Artists ---");
        for (String artist : artists) {
            IO.println("Artist: " + artist);
        }he Clash", "David Bowie"};
    
    IO.println("--- Artists ---");
    for (String artist : artists) {
        IO.println("Artist: " + artist);
    }
}
```

## User-specified Array Length and Elements

Although arrays are fixed in length once created, you can allow a user to determine the size and elements of an array during runtime using the `Scanner` object.

**Example: Building a Recipe Array**

This code prompts a user for the number of ingredients and dynamically creates the array size based on that input:
public class RecipeBuilder {
    void main() {
        String input = IO.readln("How many ingredients are in your recipe? ");
        int size = Integer.parseInt(input);

        // Dynamically create the array based on user input
        String[] ingredients = new String[size]; 

        for (int i = 0; i < ingredients.length; i++) {
            ingredients[i] = IO.readln("Enter ingredient " + (i + 1) + ": ");
        }
        
        IO.println("\n--- Your Recipe ---");
        // Use enhanced loop to display
        for (String item : ingredients) {
            IO.println(item);
        }
    IO.println("\n--- Your Recipe ---");
    // Use enhanced loop to display
    for (String item : ingredients) {
        IO.println(item);
    }
}
```

#### Check Your Understanding (7.2)

1. What is the fundamental difference in syntax when accessing the length of a `String` variable versus the length of an array?
2. If `int[] data = new int;`, what is the valid range of index numbers? What is the index of the element accessed by the statement `data[data.length - 1]`?
3. Explain why the enhanced `for` loop cannot be used to initialize or change the values of an array's elements.
4. How would you prevent an `ArrayIndexOutOfBoundsException` when using a `for` loop to iterate through an array of unknown size?

#### Practice Problems (7.2)

1.  **Loop Trace:** How many times will the `System.out.println` statement execute, and what is the final output of the following code?

```java
int[] values = {10, 20, 30, 40};
for (int i = 0; i < 4; i++) {
	IO.println(values[i]);
}
```

2.  **Indexing:** Given `String[] planets = {"Mars", "Earth", "Venus"};`, write a single statement that reassigns the element "Earth" to "Terra" (the last element's index is always at `array.length - 1`).
3.  **Bounds Checking:** Identify the statement that would cause an `ArrayIndexOutOfBoundsException` in the following code, assuming `cars` is an array of size 3:

```java
Car[] cars = new Car[3];
cars[0] = new Car();
cars[1] = new Car();
cars[2] = new Car();
cars[3] = new Car(); 
```