# 7.3 Passing and Returning Arrays to and from Methods

## Passing Arrays to Methods

Arrays are objects in Java. When you pass an object as an argument to a method, Java follows the **pass-by-value** rule, but the value passed is actually a copy of the object's **memory address (reference)**.

When an array's **reference variable** is passed to a method, the method receives this memory address, giving it **direct access to the original array in memory**. Therefore, the receiving method can **change values in the original array**.

## Critical Distinction: Array vs. Primitive Element

- **Passing the array reference:** The method receives a copy of the memory address and can modify the **_contents_** (elements) of the original array.
- **Passing an _individual element_** (if the element is a primitive type like `int` or `double`): The method receives only a copy of the **_value_**, and changes to that value will **not** affect the original array.

**Example: Student Test Scaling Scores**

Imagine an application that records student test scores. A method is used to adjust these scores by applying a curve. The curve is calculated by finding the difference between the highest score and 100, and adding that difference to every score.

```java
/**
 * Accepts an array of test scores and applies a curve.
 * The curve is calculated by finding the difference between the highest score and 100,
 * and adding that difference to every score.
 * @param scores The array of student test scores.
 */
public class TestScoreScaler {
    void applyBonus(int[] scores) {
        IO.println("\n--- Analyzing Scores for Curve ---");
        
        // 1. Find the maximum score in the array
        int maxScore = 0;
        for (int score : scores) {
            if (score > maxScore) {
                maxScore = score;
            }
        }
        
        // 2. Calculate the scale factor (difference to 100)
        int scaleAmount = 100 - maxScore;
        IO.println("Highest Score: " + maxScore);
        IO.println("Scale Amount: +" + scaleAmount + " points");
        
        IO.println("\n--- Applying Scale ---");
        // 3. Apply the scale to all scores
        for (int i = 0; i < scores.length; i++) {
            scores[i] += scaleAmount;
        }
        IO.println("--- Scale Applied ---");
    }

    void main() {
        // Scores for 4 students
        int[] testScores = {72, 88, 91, 65};

        IO.print("Original Scores: ");
        for (int score : testScores) {
            IO.print(score + " ");
        }

        // Pass the array reference to the method
        applyBonus(testScores);

        IO.print("Scaled Scores:   ");
        // The original array has been permanently modified
        for (int score : testScores) {
            IO.print(score + " ");
        }
        IO.println("");
    }
}
```

In the above code, the `main` method creates the array referenced by **`testScores`**. This variable holds the **memory address** (the reference) of the actual scores. If you were to print `testScores`, you would see something like `[I@372f7a8d` (a memory address).

When the statement **`applyBonus(testScores)`** is executed, the **value** of the reference in **`testScores`** is copied into the method parameter, **`scores`**.

- Both **`testScores`** and **`scores`** now point to the **same array data** in memory.

Inside the **`applyBonus`** method, the `for` loop uses the **`scores`** reference to directly access and modify the elements. Specifically, the line **`scores[i] += scaleAmount;`** modifies the actual array data shared by both references.

After **`applyBonus`** returns, the **`testScores`** variable in **`main`** still points to the _same_ memory location, which now holds the modified values, resulting in the final output.

#### Check Your Understanding (7.3 - Passing Arrays)

1. When an array reference variable is passed to a method, what specific piece of information does the parameter variable hold?
2. If Method A calls Method B, passing an array reference, and Method B modifies the array contents, does this modification persist when control returns to Method A? Why or why not?
3. If you pass a single element of an array, such as `arr`, to a method, can that method change the original value stored at `arr` if `arr` holds primitive data types? Explain.

#### Practice Problems (7.3 - Passing Arrays)

1.  **Code Trace:** Assume the method `zeroOut(int[] list)` sets every element in the passed array to 0. If you call `zeroOut(temperatures)` where `temperatures` is ``, what are the values of `temperatures` after the method call?
2.  **Method Header:** Write the header for a static method named `printArrayElements` that accepts one argument: an array of `String` objects.

## Returning Arrays from Methods

Just as methods can return primitive values or references to objects, they can also return references to arrays. To define such a method, you must specify the array's data type followed by empty square brackets (`[]`) as the return type.

**Example: The Recipe Organizer Returns an Array**

We can encapsulate the user input logic from earlier into a method that returns the finalized array of ingredients:

```java
public class RecipeOrganizer {
    // The return type is String[]
    String[] getIngredients(int numIngredients) {
        String[] ingredients = new String[numIngredients];

        for (int i = 0; i < ingredients.length; i++) {
            ingredients[i] = IO.readln("Enter ingredient " + (i + 1) + ": ");
        }
        return ingredients; // Return the reference to the newly created String array
    }

    void main() {
        int recipeSize = 3;
        // The return value (the array reference) is assigned to the 'recipe' array
        String[] recipe = getIngredients(recipeSize); 

        IO.println("\n--- Finalized Recipe ---");
        // Display the returned array's contents
        for (String item : recipe) {
            IO.println("-> " + item);
        }'s contents
    for (String item : recipe) {
        IO.println("-> " + item);
    }
}
```

#### Check Your Understanding (7.3 - Returning Arrays)

1. When a method returns an array, is a copy of the entire array data returned, or is something else returned?
2. Write the method header for a static method named `getDailyTemperatures` that returns an array of `double` values.

#### Practice Problems (7.3 - Returning Arrays)

1. **Error Correction:** The following method intends to return an array of integers but contains a syntax error. Fix the code.

```java
int returnFive() {
	int[] fiveNumbers = {1, 2, 3, 4, 5};
	return fiveNumbers; 
}
```
